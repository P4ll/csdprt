{% extends "header.html" %}
{% block title %}Резюме{% endblock %}
{% block content %}
    <div class="v-100 position-relative d-flex flex-wrap bg-light find_block">
        <div class="buttons_resumes">
            {% if have_resume and not is_deleted %}
                <a class="btn btn-outline-primary" href="{% url "redirect_to_my_resume" %}">Моё резюме</a>
            {% else %}
                <a class="btn btn-outline-primary" href="{% url "create_resume" %}">Создать</a>
            {% endif %}
        </div>

        <div class="d-flex flex-column inputs_block align-items-center container container-sm w-50">
            <h1 class='cs-header-title text-center text-white display-2 find_header'>Найти резюме</h1>
            <div class="find_container inputs_block_inputs d-flex justify-content-center w-75 mb-4">
                {% if parameter %}
                    <input id="textForSearch" type="text" placeholder="Поиск по названию" class="form-control find_input mr-2 form-control-lg" value="{{ parameter }}"/>
                {% else %}
                    <input id="textForSearch" type="text" placeholder="Поиск по названию" class="form-control find_input mr-2 form-control-lg"/>
                {% endif %}
                <input id="btnSearch" type="button" value='найти' class=" btn btn-primary find_btn form-control-lg"/>
            </div>

        </div>
        <div class="arrows_down">
            <div class="arrows_down_arrow up">ˬ</div>
            <div class="arrows_down_arrow down">ˬ</div>
        </div>
    </div>
    <div class="v-100 position-relative flex-column d-flex p-sm-2 p-4">
        <div class='cs-header-title text-center text-black display-6 pl-4'>Текущие резюме</div>
        <div class="vacancies_container position-relative mt-4 d-flex  flex-wrap ">
            {% for resume in resumes %}
                <div class="vacancies_item p-4 m-2 shadow-sm ">
                    <div class="vacancies_item_body">
                        <h4 class="fl_uppercase">{{ resume.title }}</h4>
                        <p class="w-100 about_you">О себе: {{ resume.about_you }}</p>
                        <p class="w-100">Желаемая зарплата: {{ resume.desired_salary }}</p>
                        <p class="w-100">Специализация: {{ resume.specialization }}</p>
                        <p class="w-100">Опыт работы: {{ resume.work_experience }}</p>
                        <a class="btn btn-outline-primary mb-4" href="{% url "check_resume" resume.pk %}">Посмотреть</a>
                        <p class="w-100 date_update">Обновлено: {{ resume.date_update }}</p>
                    </div>
                    {% load static %}
                    <div class="photo_container">
                        <img src="{% static 'img/placeholder.png' %}" alt="" class="vacancies_photo">
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
    <!-- Пагинация -->
    <div class="pagination d-flex mb-3 w-100 d-flex justify-content-center fixed-bottom">
        <span class="step-links">
            {% if page_obj.has_previous %}
                <a class="rounded-circle btn btn-outline-primary" href="?page=1">‹‹</a>
                <a class="rounded-circle btn btn-outline-primary" href="?page={{ page_obj.previous_page_number }}"><</a>
            {% else %}
                <a class="rounded-circle btn btn-outline-primary" href="?page=1">‹‹</a>
                <a class="rounded-circle btn btn-outline-primary" href="?page=1"><</a>
            {% endif %}

            {% for page in page_obj.paginator.page_range %}
                {% if page > page_obj.number|add:-3 and page < page_obj.number|add:3 %}
                    {% if page == page_obj.number %}
                        <a class="rounded-circle btn btn-primary" href="?page={{ page }}">{{ page }}</a>
                    {% else %}
                        <a class="rounded-circle btn btn-outline-primary" href="?page={{ page }}">{{ page }}</a>
                    {% endif %}
                {% endif %}
            {% endfor %}

            {% if page_obj.has_next %}
                <a class=" rounded-circle btn btn-outline-primary" href="?page={{ page_obj.next_page_number }}">></a>
                <a class="rounded-circle btn btn-outline-primary" href="?page={{ page_obj.paginator.num_pages }}">››</a>
            {% else %}
                <a class="rounded-circle btn btn-outline-primary" href="?page={{ page_obj.paginator.num_pages }}">></a>
                <a class="rounded-circle btn btn-outline-primary" href="?page={{ page_obj.paginator.num_pages }}">››</a>
            {% endif %}
        </span>
    </div>
{% endblock %}